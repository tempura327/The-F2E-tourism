"use strict";(self["webpackChunkThe_F2E_tourism"]=self["webpackChunkThe_F2E_tourism"]||[]).push([[568],{6622:function(t,a,s){s.d(a,{Z:function(){return f}});var e=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"card"},[t._t("card-image",(function(){return[a("div",{staticClass:"card_img h-48",style:`background-image: url(${t.data.Picture.PictureUrl1}); background-size: cover;`})]})),t._t("default",(function(){return[a("div",{staticClass:"card_body"},[a("div",{staticClass:"card_body_top"},[a("h2",{staticClass:"card_title mr-3"},[t._v(t._s(t.data.ScenicSpotName))]),a("span",{staticClass:"card_type"},[a("font-awesome-icon",{staticClass:"text-gray-blue ml-auto mr-2",attrs:{icon:["far","clock"]}}),t._v(" "+t._s(t.type)+" ")],1)]),a("h4",{staticClass:"flex items-center"},[a("font-awesome-icon",{staticClass:"text-primary mr-2",attrs:{icon:"location-dot"}}),a("span",{staticClass:"no-more-word"},[t._v(t._s(t.data.Address))])],1),a("div",[a("button",{staticClass:"btn btn-block",on:{click:function(a){return t.showModal(t.data,"attraction")}}},[t._v("了解更多")])])])]}))],2)},i=[],o=s(2482),r=s(140),n=function(t,a,s,e){var i,o=arguments.length,r=o<3?a:null===e?e=Object.getOwnPropertyDescriptor(a,s):e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,a,s,e);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(r=(o<3?i(r):o>3?i(a,s,r):i(a,s))||r);return o>3&&r&&Object.defineProperty(a,s,r),r};let c=class extends r.w3{constructor(...t){super(...t),(0,o.Z)(this,"data",void 0)}showModal(t,a){this.$emit("showModal",{data:t,type:a})}get type(){const t=this.data.OpenTime?.match(/24 hours/g);return null===t?this.data.OpenTime:7===t.length?"全天開放":this.data.OpenTime}};n([(0,r.fI)()],c.prototype,"data",void 0),c=n([r.wA],c);var l=c,d=l,u=s(1001),h=(0,u.Z)(d,e,i,!1,null,null,null),f=h.exports},9656:function(t,a,s){s.r(a),s.d(a,{default:function(){return H}});var e=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",[a("FadeCarousel",{attrs:{data:t.carouselData,config:t.carouselConfig,carouselClass:"mb-28"}}),a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"grid mb-32 grid-cols-4 gap-x-8 gap-y-20 xs:grid-cols-1"},[t.isAttractionLoading?a("div",{staticClass:"col-span-4 mx-auto"},[a("Spinner")],1):t._l(t.attractionData,(function(s,e){return a("div",{key:e},[a("Card",{attrs:{data:s},on:{showModal:t.showModal}})],1)})),t.attractionErrorMsg?a("h3",{staticClass:"message error col-span-4"},[t._v(t._s(t.attractionErrorMsg))]):t._e()],2),t._m(1),a("div",{staticClass:"grid mb-32 grid-cols-4 gap-x-8 gap-y-20 xs:grid-cols-1"},[t.isActivityLoading?a("div",{staticClass:"col-span-4 mx-auto"},[a("Spinner")],1):t._l(t.activityData,(function(t,s){return a("div",{key:s},[a("SimpleCard",{attrs:{data:t}})],1)})),t.activityErrorMsg?a("h3",{staticClass:"message error col-span-4"},[t._v(t._s(t.activityErrorMsg))]):t._e()],2)]),"/"===this.$router.currentRoute.fullPath?a("div",{staticClass:"banner-bottom"},[t._m(2)]):t._e(),a("SimpleModal",{attrs:{id:"detail-modal",size:t.isMobile?"lg":"md",isShow:t.isModalShow},on:{onCloseClick:t.closeModal}},[a("h2",{staticClass:"text-h2 text-gray-80 font-bold mb-2"},[t._v(" "+t._s(t.modalData.ScenicSpotName)+" "),a("span",{staticClass:"text-h5"},[t._v("/ "+t._s(t.modalData.Class1||"未分類"))])]),a("Gallery",{attrs:{images:t.images,galleryClass:"mb-4"}}),a("h4",{staticClass:"text-h5 text-gray-80"},[t._v(t._s(t.modalData.OpenTime))]),a("h4",{staticClass:"text-h5 text-gray-80"},[t._v(t._s(t.modalData.Address))]),a("h4",{staticClass:"text-h5 text-gray-80"},[t._v(t._s(t.modalData.Phone))]),t.modalData.DescriptionDetail?a("hr",{staticClass:"my-3"}):t._e(),a("h4",{staticClass:"text-h5 text-gray-80"},[t._v(t._s(t.modalData.DescriptionDetail))])],1)],1)},i=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h1",{staticClass:"font-bold text-h1 text-primary mb-6"},[t._v("熱門景點")]),a("h5",{staticClass:"h5 text-gray font-bold mb-12"},[t._v(" 台灣的各個美景，都美不勝收。 "),a("br"),t._v(" 等你一同來發現這座寶島的奧妙！ ")])])])},function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h1",{staticClass:"font-bold text-h1 text-primary mb-6"},[t._v("本月活動")]),a("h5",{staticClass:"h5 text-gray font-bold mb-12"},[t._v(" 各種不同的活動內容 "),a("br"),t._v(" 邀請您一同來共襄盛舉！ ")])])])},function(){var t=this,a=t._self._c;t._self._setupProxy;return a("h1",{staticClass:"banner_text"},[t._v(" “To travel is to live” "),a("br"),t._v(" – Hans Christian Anderson- ")])}],o=s(2482),r=s(140),n=s(6622),c=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{on:{click:function(a){return t.showModal(t.data,"activity")}}},[t._t("default",(function(){return[a("div",{staticClass:"card_img rounded-lg h-48 mb-6",style:`background-image: url(${t.data.Picture.PictureUrl1});  background-color:'gold'; background-size: cover;`}),a("a",{staticClass:"card_title block text-center",class:{"hover:text-primary":t.data.WebsiteUrl},attrs:{href:t.data.WebsiteUrl,target:"_blank"}},[t._v(" "+t._s(t.data.ActivityName)+" ")]),a("h2",{staticClass:"h2 text-center"},[t._v(t._s(t.data.StartTime.slice(0,10))+" ~ "+t._s(t.data.EndTime.slice(0,10)))])]}))],2)},l=[],d=function(t,a,s,e){var i,o=arguments.length,r=o<3?a:null===e?e=Object.getOwnPropertyDescriptor(a,s):e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,a,s,e);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(r=(o<3?i(r):o>3?i(a,s,r):i(a,s))||r);return o>3&&r&&Object.defineProperty(a,s,r),r};let u=class extends r.w3{constructor(...t){super(...t),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"title",void 0),(0,o.Z)(this,"imgSrc",void 0)}showModal(t,a){this.$emit("showModal",t,a)}};d([(0,r.fI)()],u.prototype,"data",void 0),d([(0,r.fI)({default:""})],u.prototype,"title",void 0),d([(0,r.fI)({default:""})],u.prototype,"imgSrc",void 0),u=d([r.wA],u);var h=u,f=h,p=s(1001),v=(0,p.Z)(f,c,l,!1,null,null,null),g=v.exports,m=s(3055),_=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"carousel",class:t.carouselClass},[a("div",{staticClass:"carousel_slide"},t._l(t.carouselData,(function(s,e){return a("div",{key:`image-${e}`,staticClass:"carousel_slide_item",class:e===t.count?"opacity-1 duration-2000":"opacity-0 duration-2000"},[t.config.isContentShow?a("span",{staticClass:"carouse_slide_item_caption"},[t._v(" "+t._s(s.content)+" ")]):t._e(),a("img",{staticClass:"carousel_slide_item_img",attrs:{src:s.image,alt:"..."}})])})),0),a("div",{staticClass:"carousel_indicator"},t._l(t.carouselData,(function(s,e){return a("button",{key:`carousel-${e}`,staticClass:"w-3 h-3 rounded-full",class:t.count===e?"bg-primary":"bg-white",attrs:{type:"button"},on:{click:function(a){return t.changeTo(e)}}})})),0),a("button",{staticClass:"carousel_control left-0",attrs:{type:"button","data-carousel-prev":""},on:{click:t.prev}},[a("span",{staticClass:"carousel_control_content"},[a("svg",{staticClass:"w-5 h-5 sm:w-6 sm:h-6",attrs:{fill:"none",stroke:"#ffffff",viewBox:"0 0 24 24"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})]),a("span",{staticClass:"hidden"},[t._v("Previous")])])]),a("button",{staticClass:"carousel_control right-0",attrs:{type:"button","data-carousel-next":""},on:{click:t.next}},[a("span",{staticClass:"carousel_control_content"},[a("svg",{staticClass:"w-5 h-5 sm:w-6 sm:h-6",attrs:{fill:"none",stroke:"#ffffff",viewBox:"0 0 24 24"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})]),a("span",{staticClass:"hidden"},[t._v("Next")])])])])},y=[],b=function(t,a,s,e){var i,o=arguments.length,r=o<3?a:null===e?e=Object.getOwnPropertyDescriptor(a,s):e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,a,s,e);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(r=(o<3?i(r):o>3?i(a,s,r):i(a,s))||r);return o>3&&r&&Object.defineProperty(a,s,r),r};let x=class extends r.w3{constructor(...t){super(...t),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"carouselClass",void 0),(0,o.Z)(this,"count",0),(0,o.Z)(this,"carouselData",[])}created(){this.data.length>0&&(this.carouselData=this.data),this.config.autoPlay&&setInterval((()=>{this.next()}),this.config.period)}prev(){this.count=this.count-1<0?this.carouselData.length-1:this.count-1}next(){this.count=this.count+1>this.carouselData.length-1?0:this.count+1}changeTo(t){const a=Math.abs(t-this.count),s=t>this.count?this.next:this.prev;for(let e=0;e<a;e++)s()}};b([(0,r.fI)({default:()=>({autoPlay:!1,isContentShow:!1,period:3e3})})],x.prototype,"config",void 0),b([(0,r.fI)({default:()=>[]})],x.prototype,"data",void 0),b([(0,r.fI)()],x.prototype,"carouselClass",void 0),x=b([(0,r.wA)({components:{}})],x);var C=x,w=C,D=(0,p.Z)(w,_,y,!1,null,null,null),M=D.exports,P=s(1691),S=s(9241),Z=s(2572),k=s(1092),A=function(t,a,s,e){var i,o=arguments.length,r=o<3?a:null===e?e=Object.getOwnPropertyDescriptor(a,s):e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,a,s,e);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(r=(o<3?i(r):o>3?i(a,s,r):i(a,s))||r);return o>3&&r&&Object.defineProperty(a,s,r),r};let $=class extends r.w3{constructor(...t){super(...t),(0,o.Z)(this,"isModalShow",!1),(0,o.Z)(this,"isMobile",this.$store.state.isMobile),(0,o.Z)(this,"attractionData",[]),(0,o.Z)(this,"activityData",[]),(0,o.Z)(this,"isAttractionLoading",!1),(0,o.Z)(this,"isActivityLoading",!1),(0,o.Z)(this,"modalData",{Address:"",City:"",Class1:"",Description:"",DescriptionDetail:"",OpenTime:"",ParkingPosition:{PositionLon:void 0,PositionLat:void 0,GeoHash:void 0},Phone:"",Picture:{PictureUrl1:"",PictureDescription1:""},Position:{PositionLon:0,PositionLat:0,GeoHash:""},ScenicSpotID:"",ScenicSpotName:"",SrcUpdateTime:"",UpdateTime:"",ZipCode:""}),(0,o.Z)(this,"isAttraction",!1),(0,o.Z)(this,"carouselData",[{image:"https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"},{image:"https://images.unsplash.com/photo-1566371486490-560ded23b5e4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"},{image:"https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"},{image:"https://images.unsplash.com/photo-1621682372775-533449e550ed?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80"}]),(0,o.Z)(this,"carouselConfig",{autoPlay:!0,period:3e3}),(0,o.Z)(this,"images",[]),(0,o.Z)(this,"activityErrorMsg",""),(0,o.Z)(this,"attractionErrorMsg","")}created(){const t=Math.floor(500*Math.random())+1;this.queryAttraction(t),this.queryActivity()}async queryAttraction(t){this.isAttractionLoading=!0;try{const a=await(0,Z.Z)(`\n          https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?%24filter=Picture%2FPictureUrl1%20ne%20null&%24top=8&%24skip=${t}&%24format=JSON\n        `);this.attractionData=a}catch(a){this.attractionErrorMsg=`錯誤。${a.message}`}finally{this.isAttractionLoading=!1}}async queryActivity(){this.isActivityLoading=!0;const t=this.getActivityDateRange(new Date);try{const a=await(0,Z.Z)(`\n          https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity?%24filter=Picture%2FPictureUrl1%20ne%20null%20and%20StartTime%20ge%20${t[0]}%20and%20StartTime%20le%20${t[1]}&%24orderby=StartTime%20asc&%24top=8&%24format=JSON\n        `);this.activityData=a}catch(a){this.activityErrorMsg=`錯誤。${a.message}`,console.log("fail")}finally{this.isActivityLoading=!1}}getActivityDateRange(t){const a=t.getFullYear(),s=t.getMonth();return[(0,k.Z)(new Date(a,s,1)),(0,k.Z)(new Date(a,s+1,0))]}showModal(t){this.modalData=t.data,this.images=Object.values(t.data.Picture).filter((t=>t.startsWith("http"))),this.isModalShow=!0,this.isAttraction="activity"!==t.type}closeModal(){this.isModalShow=!1}};$=A([(0,r.wA)({components:{Card:n.Z,SimpleCard:g,SimpleModal:m.Z,FadeCarousel:M,Gallery:P.Z,Spinner:S.Z}})],$);var O=$,T=O,j=(0,p.Z)(T,e,i,!1,null,"5d5b97b0",null),H=j.exports},1092:function(t,a,s){function e(t,a="-"){const s=t instanceof Date,e=s?t.getFullYear():t[0],i=s?t.getMonth()+1:t[1]+1,o=s?t.getDate():t[2];return`${e}${a}${i.toString().padStart(2,"0")}${a}${o.toString().padStart(2,"0")}`}function i(t){const a=[...new Set(t.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/g))],s=t.match(/[0-9]{2}:[0-9]{2}:[0-9]{2}/g),e=s&&!s?.includes("00:00:00");return a?a.length<2?`${a[0]} ${e?s?.join(" ~ "):""}`:`${a[0]} ${e?s[0]:""} ~ ${a[1]} ${e?s[1]:""}`:"(未提供時間)"}s.d(a,{D:function(){return i},Z:function(){return e}})}}]);
//# sourceMappingURL=568.00bf762b.js.map